{% assign banner_enabled = block.settings.enabled | default: true %}

{% if banner_enabled != false %}
  <script>
    (function () {
      if (typeof window === 'undefined') return;
      if (!document || !document.head) return;
      if (document.querySelector('script[src*="nusense-home-banner.js"]')) return;

      var script = document.createElement('script');
      script.src = "{{ 'nusense-home-banner.js' | asset_url }}";
      script.defer = true;
      document.head.appendChild(script);
    })();
  </script>
{% endif %}

{% schema %}
{
  "name": "NUSENSE Try-On Banner",
  "target": "body",
  "settings": [
    {
      "type": "paragraph",
      "content": "This banner promotes the virtual try-on feature on your home page."
    },
    {
      "type": "checkbox",
      "id": "enabled",
      "label": "Enable Banner",
      "default": true
    }
  ]
}
{% endschema %}